(this["webpackJsonpfe-react-data-visualisation"]=this["webpackJsonpfe-react-data-visualisation"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(9),r=c.n(n),o=c(2),i=c(6),l=c.n(i),u=c(8),d=c(3),h=c(0);var b=function(e){var t=e.show,c=(e.selectedShow,e.setSelectedShow),s=e.setModalVisible,a="";return console.log(t),a=null!==t.image?t.image.medium:"https://via.placeholder.com/210x295/fff.png?text=Image+not+found",Object(h.jsxs)("div",{className:"card",onClick:function(){c(t),s("modal-visible")},children:[Object(h.jsx)("img",{className:"poster",src:a,alt:"".concat(t.name," poster")}),Object(h.jsx)("h4",{className:"showName",children:t.name})]})};var j=function(e){var t=e.searchResult,c=e.selectedShow,s=e.setSelectedShow,a=e.setModalVisible;return Object(h.jsx)("section",{id:"searchResultSection",children:t.map((function(e){var t=e.show;return Object(h.jsx)(b,{show:t,selectedShow:c,setSelectedShow:s,setModalVisible:a},t.id)}))})},f=c(10);var m=function(e){var t=e.modalVisible,c=e.selectedShow,s=e.selectedShowEpisodes,a=(e.setModalVisible,c.name),n=c.summary,r=c.image,o=s.map((function(e){return Object.keys(e)[0]})),i=s.map((function(e){return Object.values(e)[0]})),l="https://via.placeholder.com/210x295/fff.png?text=Image+not+found";l=null!==r&&void 0!==r?r.medium:"https://via.placeholder.com/210x295/fff.png?text=Image+not+found";var u={labels:o,datasets:[{label:"Average Episode Rating",data:i,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return console.log(u),Object(h.jsxs)("section",{className:t,id:"detail-section",children:[Object(h.jsx)("h3",{id:"show-title",children:a}),Object(h.jsx)("div",{id:"blurb-container",dangerouslySetInnerHTML:{__html:n}}),Object(h.jsx)("img",{id:"show-poster",src:l,alt:""}),Object(h.jsx)(f.a,{data:u,options:{scales:{y:{beginAtZero:!0}}}})]})};var p=function(){return Object(h.jsx)("div",{className:"Header",children:Object(h.jsx)("h1",{children:"TV Ratings"})})};var v=function(e){e.searchQuery;var t=e.submitNewSearch,c="";return Object(h.jsx)("section",{id:"search-section",children:Object(h.jsxs)("form",{id:"search-form",onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(h.jsx)("label",{for:"search-input",id:"search-label",children:"Search"}),Object(h.jsx)("input",{id:"search-input",onChange:function(e){c=e.target.value}}),Object(h.jsx)("button",{type:"submit",id:"search-button",children:"Go"})]})})};c(17);var O=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),r=Object(d.a)(n,2),i=r[0],b=r[1],f=Object(s.useState)({}),O=Object(d.a)(f,2),x=O[0],g=O[1],w=Object(s.useState)([]),S=Object(d.a)(w,2),y=S[0],k=S[1],N=Object(s.useState)("modal-hidden"),V=Object(d.a)(N,2),M=V[0],E=V[1],I=function(){var e=Object(u.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.tvmaze.com/search/shows","?q=").concat(c));case 3:return t=e.sent,e.next=6,t.json();case 6:(s=e.sent).length>10?b(s.slice(0,9)):b(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){I()}),[c]);var R=function(){var e=Object(u.a)(l.a.mark((function e(){var t,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.tvmaze.com/shows","/").concat(x.id,"/episodes"));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,s=c.map((function(e){var t=e.number,c=e.season,s=e.rating.average;null!==s&&void 0!==s||(s=0);var a="s".concat(c,"e").concat(t);return Object(o.a)({},a,s)})),k(s),console.log(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){R()}),[x]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(p,{}),Object(h.jsx)(v,{searchQuery:c,submitNewSearch:function(e){a((function(){return e}))}}),Object(h.jsx)(j,{searchResult:i,selectedShow:x,setSelectedShow:g,setModalVisible:E}),Object(h.jsx)(m,{selectedShow:x,selectedShowEpisodes:y,modalVisible:M,setModalVisible:E})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.b5a97944.chunk.js.map